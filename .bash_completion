# With this, cd $HOME/<TAB> expands the variable instead of escaping it.
# Ideally, bash would just leave it alone.
shopt -s direxpand

completions=(
    "git" "git-prompt.sh"
    "cmake"
    "chown"
    "chmod"
    "rg"
    "sqlite3"
    "ssh" "ssh-add"
    "ninja"
    "make"
    "man"
    "java"
    # Nix stuff
    "nix"                   "nix-copy-closure"      "nix-instantiate"       "nix-store"
    "nix-build"             "nix-env"               "nix-prefetch-url"
    "nix-channel"           "nix-hash"              "nix-push"
    "nix-collect-garbage"   "nix-install-package"   "nix-shell"
)

for s in completions; do
    __load_completion "$s"
done

# Maintained apart from normal completions...
# This depends on PATH being set properly.
if command -v fzf-share >/dev/null; then
    source "$(fzf-share)/key-bindings.bash"
    source "$(fzf-share)/completion.bash"
fi
